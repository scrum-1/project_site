Title: 40323230日誌 - 105/12/08
Date: 2016-12-08 21:00
Category: 2016bg2
Tags: Kmol, Pyslvs
Author: 40323230

Pyslvs 編譯進度：

* Bug 修正

* 檔案格式檢查

* `__init__.py` 利用

* 反解連桿尺寸 & 多個驅動軸

* 技術手冊

<!-- PELICAN_END_SUMMARY -->

Pyslvs 編譯進度
===

Bug 修正
---

檢查了一下之前的 code，將兩個地方修正。

一個是開新檔案的 function 填錯 table 位置所以刪錯項目；另一個是一段時間前將 function 歸類時，造成填寫路徑清單的視窗 function 名稱寫錯。

另外將清單處理的 `list_process.py` 更名為 `listProcess.py`，並從 calculation 資料夾轉到 io 底下。這裡的函式經過歸類後，比較像讀寫功能；而非計算功能。

檔案格式檢查
---

做了一個小型的檔案格式檢查函式，讀取 csv 的三個標籤（`_info_`、`_table_`、`_path_`）數量來檢查。

不過就算如此，其中寫入錯誤訊息，還是會導致程式錯誤而關閉，應該改寫成跳出回報錯誤的視窗拒讀，避免造成如 Solvespace 閃退的困擾。

而之後可能會移除非必要的項目減少 csv 檔案體積和利於程式檢查。

`__init__.py` 利用
---

為了讓 `main.py` 起始的標頭不要都是 import 的項目，將所有的 import 項目放到 core 資料夾的 `__init__.py` 中（跟 `main.py` 同層級）。

這樣 `main.py` 可以向 `__init__.py` 借入資料，節省主程式的空間。

反解連桿尺寸 & 多個驅動軸
---

預計加入過去學長使用的演算法，使用者指定路徑後，以四連桿的方式反推，「設計」出近似使用者指定路徑的四連桿。

這個演算法可能會變成類似解路徑的彈出功能，會在介面上規劃空間給它使用，並將解出的第一組解填入表單讓 Solvespace kernel 運算顯示，使用者亦能在產生滿意解之後，另行編修。

原本的路徑功能也是想支援多個驅動軸的功能，由於當時不太了解 Python 的功能，並沒有做出。不過當初資料格式是有支援寫入多個驅動軸運行的結果，應該較容易相容。

技術手冊
---

由於後輩的加入，開發人員的技術手冊應該要在下學期開始前盡快完成，期末前會再審查一次原始碼，歸類好後 Relese v0.4.0 或更新版本以給技術手冊介紹使用。

之後範例檔案都會存在 core/io/example.py，用 function 回傳 data 值讓程式讀取，若有改版也會附上檔案格式修改的提醒。